{% extends 'base.html' %}

{% block title %}Reschedule Appointment | Freezehouse{% endblock %}

{% block content %}
<div class="container form-container">
    <h2>Update Your Ice Bath Slot</h2>

    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <ul class="flashes">
                {% for message in messages %}
                    <li>{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}

    <form method="POST">
        <label for="date">Date:</label>
        <input type="date" name="date" id="date" value="{{ appointment.date }}" required>

        <label for="time">Time:</label>
        <input type="time" name="time" id="time" value="{{ appointment.time }}" required>

        <label for="reason">Reason:</label>
        <textarea name="reason" id="reason" required>{{ appointment.reason }}</textarea>

        <label for="bath_type">Bath Type:</label>
        <select name="bath_type" id="bath_type" required>
            {% for bath in bath_types %}
                <option value="{{ bath.name }}" {% if appointment.bath_type == bath.name %}selected{% endif %}>
                    {{ bath.name }} - ₹{{ bath.price }}
                </option>
            {% endfor %}
        </select>

        <button type="submit" class="btn">✅ Update Appointment</button>
    </form>

    <div style="margin-top: 20px;">
        <a href="{{ url_for('dashboard') }}" class="back-link">⬅ Back to Dashboard</a>
    </div>
</div>
{% endblock %}
